buysshop = {
	["24/7"] = {
	{-27.940196990967, -89.615165710449, 1003.546875, int= 18, dim = 9, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	{-27.940196990967, -89.615165710449, 1003.546875, int= 18, dim = 8, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	{-27.940196990967, -89.615165710449, 1003.546875, int= 18, dim = 6, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	{-23.242370605469, -55.641002655029, 1003.546875, int= 6, dim = 7, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	{-23.242370605469, -55.641002655029, 1003.546875, int= 6, dim = 8, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	{-23.242370605469, -55.641002655029, 1003.546875, int= 6, dim = 12, items={"Telefono", "Agenda","Radio", "Cuchillo de Caza (Arma)", "Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande","Chocolate","Pastel"}},
	--
	{-30.561338424683, -28.993001937866, 1003.5572509766, int= 4, dim = 0, items={"Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande", "Bidon Vacio","Kit Herramientas"}},
	{-30.561338424683, -28.993001937866, 1003.5572509766, int= 4, dim = 1, items={"Lata de Spray", "Caja de Cigarros", "Encendedor", "Camara", "Cerveza", "Agua","Agua Grande", "Bidon Vacio","Kit Herramientas"}},
	},
	["Bebidas"] = {
	{-2654.0190429688, 1413.6501464844, 906.27709960938, int= 3, dim = 0, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	{497.33801269531, -75.859100341797, 998.7578125, int= 11, dim = 0, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	{499.79028320313, -20.544431686401, 1000.6796875, int= 17, dim = 0, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	{499.79028320313, -20.544431686401, 1000.6796875, int= 17, dim = 1, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	{-224.78340148926, 1404.3884277344, 27.7734375, int= 18, dim = 0, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	{499.9677734375, -20.5009765625, 1000.6796875, int= 17, dim = 5, items={"Cerveza", "Agua","Agua Grande", "Caja de Cigarros", "Encendedor"}},
	},
	["Burger"] = {
	{377.26641845703, -67.437118530273, 1001.5078125, int= 10, dim = 3, items={"Hamburguesa", "Hamburguesa Chica", "Hamburguesa Grande"}},
	{377.26641845703, -67.437118530273, 1001.5078125, int= 10, dim = 2, items={"Hamburguesa", "Hamburguesa Chica", "Hamburguesa Grande"}},
	{377.26641845703, -67.437118530273, 1001.5078125, int= 10, dim = 1, items={"Hamburguesa", "Hamburguesa Chica", "Hamburguesa Grande"}},
	{377.26641845703, -67.437118530273, 1001.5078125, int= 10, dim = 0, items={"Hamburguesa", "Hamburguesa Chica", "Hamburguesa Grande"}},
	},
	["Cluckin' Bell"] = {
	{369.76181030273, -6.0199885368347, 1001.8588867188, int= 9, dim = 0, items={"Pata de Pollo", "Hamb. de Pollo", "Pollo Asado"}},
	{369.76181030273, -6.0199885368347, 1001.8588867188, int= 9, dim = 1, items={"Pata de Pollo", "Hamb. de Pollo", "Pollo Asado"}},
	{369.76181030273, -6.0199885368347, 1001.8588867188, int= 9, dim = 2, items={"Pata de Pollo", "Hamb. de Pollo", "Pollo Asado"}},
	},
	["Pizza"] = {
	{375.72564697266, -118.80428314209, 1001.4995117188, int= 5, dim = 0, items={"Pizzeta", "Pizza Chica", "Pizza Grande"}},
	{375.72564697266, -118.80428314209, 1001.4995117188, int= 5, dim = 1, items={"Pizzeta", "Pizza Chica", "Pizza Grande"}},
	},
	["Restuarante"] ={
	{378.79110717773, -190.54232788086, 1000.6328125, int= 17, dim = 0, items={"Pata de Pollo", "Hamb. de Pollo", "Pollo Asado", "Agua","Agua Grande",}},
	{378.79110717773, -190.54232788086, 1000.6328125, int= 17, dim = 1, items={"Pata de Pollo", "Hamb. de Pollo", "Pollo Asado", "Agua","Agua Grande",}},
	},

	["Pescador"] ={
	{2939.8530273438, -1553.6198730469, 1.7249999046326, int= 0, dim = 0, items={"Caña de pescar", "Cebo"}},
	}

}

addEventHandler("onResourceStart", resourceRoot, function()
	for index, valores in pairs(buysshop) do
		for _, v in ipairs(valores) do
			--
			p = Pickup(v[1], v[2], v[3], 3, 1239, 0 )
			p:setData("pickup.infoshops", index)
			p:setInterior(v.int)
			p:setDimension(v.dim)
			p:setData("pickup.tableinfo", v.items)
			--
			addEventHandler("onPickupHit", p, function(hitElement)
				if hitElement:getType() == "player" then
					if not hitElement:isInVehicle() then
						bindKey ( hitElement, "F", "down", OpenWindowFoods )
						hitElement:setData("PickupData", source)
					end
				end
			end)
			addEventHandler("onPickupLeave", p, function(hitElement)
				if hitElement:getType() == "player" then
					if not hitElement:isInVehicle() then
						unbindKey ( hitElement, "F", "down", OpenWindowFoods )
						hitElement:setData("PickupData", nil)
					end
				end
			end)
		end
	end
end)	


addEvent("BuyItem", true)
addEventHandler("BuyItem", root, function(item, costo)
	if source:getMoney() >= tonumber(costo) then
		local account = source:getAccount()
		if item == "Telefono" then
			if getPlayerItem(source,"Telefono") ~= 1 then
				local numero = math.random(10000, 900000)
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado un Telefono con el Número: #FF0000"..tonumber(numero).."#ffffff por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				source:setData("Roleplay:NumeroTelefono", tonumber(numero))
				setPlayerItem(source, "Telefono",1)
				source:takeMoney(tonumber(costo))--
			else
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes un telefono..", 150, 0, 0)
			end
		elseif item == "Agenda" then --
			if getPlayerItem(source,"Agenda") ~= 1 then
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado una Agenda por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				exports['Notificaciones']:setTextNoti(source,"/agenda", 0, 150, 0, true)
				setPlayerItem(source,"Agenda",1)
				source:takeMoney(tonumber(costo))
			else
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes una agenda..", 150, 0, 0)
			end
		elseif item == "Lata de Spray" then
			if source:getWeapon() == 41 then
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes una Lata de Spray en mano.", 150, 0, 0, true)
			else
			exports['Notificaciones']:setTextNoti(source,"* ha comprado una Lata de Spray por: #009B00$"..costo.." dolares", 255, 255, 255, true)
			source:takeMoney(tonumber(costo))
			source:giveWeapon(41, 300, true)
		end

		elseif item == "Radio" then --
			if getPlayerItem(source,"Radio") ~= 1 then
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado una radio por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				exports['Notificaciones']:setTextNoti(source,"/hz /r", 0, 150, 0, true)
				setPlayerItem(source,"Radio",1)
				source:takeMoney(tonumber(costo))			
			else
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes una radio.", 150, 0, 0)
			end

		elseif item == "Caña de pescar" then --
			if getPlayerItem(source,"Caña de pescar") ~= 1 then	
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado una caña por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				exports['Notificaciones']:setTextNoti(source,"/pescar", 0, 150, 0, true)
				source:takeMoney(tonumber(costo))
				setPlayerItem(source, "Caña de pescar",1)
				else
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes una caña.", 150, 0, 0)			
			end

		elseif item == "Cuchillo de Caza (Arma)" then
			if source:getWeapon() == 4 then
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes un cuchillo en mano.", 150, 0, 0, true)
			else
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado un Cuchillo por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				source:giveWeapon(4, 1, true)
				source:takeMoney(tonumber(costo))
			end
		elseif item == "Camara" then
			if source:getWeapon() == 43 then
				exports['Notificaciones']:setTextNoti(source,"* Ya tienes una camara en mano.", 150, 0, 0, true)
			else
				outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
				exports['Notificaciones']:setTextNoti(source,"* ha comprado una Camara por: #009B00$"..costo.." dolares", 255, 255, 255, true)
				source:giveWeapon(43, 10, true)
				source:takeMoney(tonumber(costo))
			end
		else
			outputDebugString('El jugador '..source.name..' Compro ['..item..']', 0, 0, 130, 232 )
			if item == "Caja de Cigarros" then
				setPlayerItem(source, item, getPlayerItem(source, item)+20)
			elseif item == "Encendedor" then
				setPlayerItem(source, item, getPlayerItem(source, item)+10)
			elseif item == "Cebo" then
				 setPlayerItem(source, item, getPlayerItem(source, item)+10)
			elseif item == "Kit Herramientas" then
				 setPlayerItem(source, item, getPlayerItem(source, item)+1)
			else
				setPlayerItem(source, item, getPlayerItem(source, item)+1)
			end
			exports['Notificaciones']:setTextNoti(source,"* ha comprado un/a #EE0000"..item.." #FFFFFFpor:#009B00 $"..costo.." dolares", 255, 255, 255, true)
			source:takeMoney(tonumber(costo))
		end
	else
		exports['Notificaciones']:setTextNoti(source,"* No tienes suficiente dinero para comprar un/a "..item.."", 150, 0, 0)
	end
end)

function OpenWindowFoods( source )
	if not source:isInVehicle() then
		local coldat = source:getData("PickupData")
		if isElement( coldat ) then
			local infos = coldat:getData("pickup.tableinfo")
			source:triggerEvent("Comidas:setWindow", source, infos)
		end
		unbindKey(source, "F", "down", OpenWindowFoods)
	end
end
